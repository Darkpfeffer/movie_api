<!DOCTYPE html>
<html>
    <head>
        <title>Documentation page - Movie API</title>
    </head>
    <body>
        <div>
            <h1>Documentation page</h1>
                <p>Welcome to my movie-API documentation! The main functionalities of the API
                    (use 'ctrl+F' to search for them):<br>
                    'CRATE', 'READ', 'UPDATE', 'DELETE'
                </p>
                <h3>LOGIN</h3>
                    <p>
                        Description: This will allow you to log in to the site<br>
                        Endpoint URL: '/login'<br>
                        Method type: 'POST'<br>
                        Format of the response data: 'JSON'<br>
                        <br>
                        Expected request body (JSON):<br>
                            {<br>
                                Username: username (must be replaced with the username of the user)<br>
                                Password: password (must be replaced with the password of the user) <br>
                            }<br>
                            <br>
                        Example request body: {<br>
                            { <br>
                                Username: Mary, <br>
                                Password: "example456! <br>
                            }<br>
                        }<br>
                        <br>
                        Example response:<br>
                        {<br>
                            "user": {<br>
                                "_id": "641309dbd3d6abe814c76a1c",<br>
                                "Username": "Mary",<br>
                                "Password": "$2b$10$Qzj0VgzghovcMDB1c7QyU.w39n2jAMH6rw6FRzZLeeX4WArti2OO2",<br>
                                "Email": "mary@example.com",<br>
                                "Birthday": "2001-10-24T00:00:00.000Z",<br>
                                "FavoriteMovies": [],<br>
                                "__v": 0<br>
                            },<br>
                            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDEzMDlkYmQzZDZhYmU4MTRjNzZhMWMiLCJVc2VybmFtZSI6Ik1hcnkiLCJQYXNzd29yZCI6ImV4YW1wbGU0NTYhIiwiRW1haWwiOiJtYXJ5QGV4YW1wbGUuY29tIiwiQmlydGhkYXkiOiIyMDAxLTEwLTI0VDAwOjAwOjAwLjAwMFoiLCJGYXZvcml0ZU1vdmllcyI6W10sIl9fdiI6MCwiaWF0IjoxNjc5NDc3OTYxLCJleHAiOjE2ODAwODI3NjEsInN1YiI6Ik1hcnkifQ.B82SgvK_MCxE3QENmiVU4E9YZpipc_uHkBUDDmH1hjQ"<br>
                        }
                        
                        After login, use the value of 'token' in the HTML header (Type: Bearer Token) to authenticate yourself at the site.

                    </p>
                <h3>CREATE</h3>
                    <h4>Add a user</h4>
                        <p>
                            Description: This will add a new user to the user's array.<br>
                            Endpoint URL: '/users'<br>
                            Method type: 'POST'<br>
                            Format of data expected in the body of the request: 'JSON'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example request body:<br>
                            {<br>
                                "Username": "Mary",<br>
                                "Password": "example456!"<br>
                                "Email": "mary@example.com"<br>
                                "Birtday": "2001-10-24"<br>
                            }<br>
                            <br>
                            Example response:<br>
                            {
                                "Username": "Mary2",<br>
                                "Password": "$2b$10$Qzj0VgzghovcMDB1c7QyU.w39n2jAMH6rw6FRzZLeeX4WArti2OO2",<br>
                                "Email": "mary@example.com",<br>
                                "Birthday": "2001-10-24T00:00:00.000Z",<br>
                                "FavoriteMovies": [],<br>
                                "_id": "64130ea893504592c757550f",<br>
                                "__v": 0<br>
                            }
                        </p>
                    <h4>Add a movie to the user's favorite list</h4>
                        <p>
                            Description: This will add a movie title to the user's favorite list.<br>
                            Endpoint URL: '/users/:userID/movies/:movieID'<br>
                            ':userID' must be replaced with the ID of the user.<br>
                            ':movieID' must be replaced with the ID of the movie<br>
                            <br>
                            Method type: 'POST'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: 'JSON'
                            <br>
                            Example request URL endpoint:<br>
                            'users/64130ea893504592c757550f/movies/640c72cf274958af87029bdf'<br>
                            <br>
                            Example response:<br>
                            {<br>
                                {<br>
                                    "Username": "Mary2",<br>
                                    "Password": "$2b$10$Qzj0VgzghovcMDB1c7QyU.w39n2jAMH6rw6FRzZLeeX4WArti2OO2",<br>
                                    "Email": "mary@example.com",<br>
                                    "Birthday": "2001-10-24T00:00:00.000Z",<br>
                                    "FavoriteMovies": [<br>
                                    640c72cf274958af87029bdf<br>
                                    ],<br>
                                    "_id": "64130ea893504592c757550f",<br>
                                    "__v": 0<br>
                                }<br>
                            }<br>
                        </p>
                <h3>READ</h3>
                    <h4>Main page</h4>
                        <p>
                            Description: This will take the user to the main page<br>
                            Endpoint URL: '/'<br>
                            Method type: 'GET'<br>
                            Format of the response data: Text<br>
                            <br>
                            Example response:<br>
                            Welcome to my movies API!
                        </p>
                    <h4>Get the list of all movies</h4>
                        <p>
                            Description: This will return all the movies with all information
                            from the external database<br>
                            Endpoint URL: '/movies'<br>
                            Method type: 'GET'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example response:<br>
                            [
                                {
                                    "title": "Hitman",
                                    "description": "A gun-for-hire known only as Agent 47 hired by a group known only as 'The Organization' is ensnared in a political conspiracy, which finds him pursued by both Interpol and the Russian military as he treks across Russia and Eastern Europe.",
                                    "genre": {
                                        "name": "action",
                                        "description": "Action films are built around a core set of characteristics: spectacular physical action; a narrative emphasis on fights, chases, and explosions; and a combination of state-of-the-art special effects and stunt-work."
                                        },
                                    "releaseDate": "2007",
                                    "director": {
                                        "name": "Xavier Gens",
                                        "bio": "He was born in Dunkerque, Nord, France. He is a director and assistant director, known for Fronti√®re(s) (2007), The Divide (2011) and Cell (2016). He has been married to Mounia Meddour since 2005.",
                                        "birthYear": "1975",
                                        "deathYear": ""
                                    },
                                },
                                ...
                            ]
                        </p>
                    <h4>Get a specific movie by title</h4>
                        <p>
                            Description: This will return a specific movie by the title
                             written in the URL.
                            Endpoint URL: '/movies/:title'<br>
                            ':title' must be repaced with the title of the movie.<br>
                            Method type: 'GET'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example request URL endpoint:<br>
                            '/movies/Inception'<br>
                            <br>
                            Example response:<br>
                            [
                                {
                                    "Genre": {
                                        "Name": "Action",
                                        "Description": "Action films are built around a core set of characteristics: spectacular physical action; a narrative emphasis on fights, chases, and explosions; and a combination of state-of-the-art special effects and stunt-work."
                                    },
                                    "Director": {
                                        "Name": "Christopher Nolan",
                                        "Bio": "He is best known for his cerebral, often nonlinear, storytelling, acclaimed writer-director was born in London, England. Over the course of 15 years of filmmaking, Nolan has gone from low-budget independent films to working on some of the biggest blockbusters ever made.",
                                        "Birthyear": 1970
                                    },
                                    "Actors": [],
                                    "_id": "640c6890274958af87029bd7",
                                    "Title": "Inception",
                                    "Description": "A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O but his tragic past may doom the project and his team to disaster.",
                                    "Release_date": "2010",
                                    "ImageURL": "https://de.web.img2.acsta.net/newsv7/19/08/09/19/16/2096534.jpg"
                                }
                            ]
                        </p>
                    <h4>Get data about a genre by name</h4>
                        <p>
                            Description: This will return the name a description of the
                             specific genre<br>
                            Endpoint URL: '/movies/genre/:genreName'<br>
                            ':genreName' must be replaced with the name of the genre.<br>
                            <br>
                            Method type: 'GET'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example request URL endpoint: '/movies/genre/Action'<br>
                            <br>
                            Example response:<br>
                            {
                                "Name": "Action",
                                "Description": "Action films are built around a core set of characteristics: spectacular physical action; a narrative emphasis on fights, chases, and explosions; and a combination of state-of-the-art special effects and stunt-work."
                            }
                        </p>
                    <h4>Get data of a director by name</h4>
                        <p>
                            Description: This will return data about the specific director
                             written in the URL.<br>
                            Endpoint URL: '/movies/directors/:directorName'<br>
                            ':directorName' must be replaced with the full name of the director.<br>
                            <br>
                            Method type: 'GET'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example request URL endpoint: '/movies/directors/Nick%20Cassavetes'<br> 
                            Example response:<br>
                            {
                                "Name": "Nick Cassavetes",
                                "Bio": "He was born in New York City, the son of actress Gena Rowlands and Greek-American actor and film director John Cassavetes. As a child, he appeared in two of his father's films: Husbands (1970) and A Woman Under the Influence (1974). After spending so much of his youth surrounded by the film industry Cassavetes initially decided he did not want to go into the field. He instead attended Syracuse University on a basketball scholarship. His athletic career was effectively ended by an injury, and he decided to rethink his aspirations, ultimately deciding to attend his parents' alma mater, the American Academy of Dramatic Arts in New York.",
                                "Birthyear": 1959
                            }
                        </p>
                <h3>UPDATE</h3>
                    <h4>Update user info by username</h4>
                        <p>
                            Description: This will allow the user to change their user information.<br>
                            Endpoint URL: '/users/:Username'<br>
                            ':Username' must be replaced with the username of the user<br>
                            <br>
                            Method type: 'PUT'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of data expected in the body of the request: 'JSON'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example request URL endpoint:'/users/Mary'<br>
                            <br>
                            Example request body:<br>
                            {<br>
                                "Username": "UpdatedMary",<br>
                                "Password": "example456!",<br>
                                "Email": "mary@example.com",<br>
                                "Birthday": "2001-10-24"<br>
                            }<br>
                            <br>
                            Example response:<br>
                            {
                                "_id": "641309dbd3d6abe814c76a1c",
                                "Username": "UpdatedMary",
                                "Password": "$2b$10$Qzj0VgzghovcMDB1c7QyU.w39n2jAMH6rw6FRzZLeeX4WArti2OO2",
                                "Email": "mary@example.com",
                                "Birthday": "2001-10-24T00:00:00.000Z",
                                "FavoriteMovies": [],
                                "__v": 0
                            }
                        </p>
                    <h4>Remove movie from user's favorite list</h4>
                        <p>
                            Description: This will allow the user to remove a movie title
                             from the favorite list.<br>
                            Endpoint URL: '/users/:userId/movies/:movieId'<br>
                            ':userId' must be replaced with the user's ID.<br>
                            ':movieId' must be replaced with the ID of the movie.<br>
                            <br>
                            Method type: 'PUT'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: 'JSON'<br>
                            <br>
                            Example request URL endpoint: '/users/640c78738b910ed1587f7778/movies/640c72cf274958af87029bdf'<br>
                            <br>
                            Example response:<br>
                            {<br>
                                updatedUser: {<br>
                                    "Username": "Mary2",<br>
                                    "Password": "$2b$10$Qzj0VgzghovcMDB1c7QyU.w39n2jAMH6rw6FRzZLeeX4WArti2OO2",<br>
                                    "Email": "mary@example.com",<br>
                                    "Birthday": "2001-10-24T00:00:00.000Z",<br>
                                    "FavoriteMovies": [],<br>
                                    "_id": "64130ea893504592c757550f",<br>
                                    "__v": 0<br>
                                }<br>  
                            }<br>
                        </p>
                <h3>DELETE</h3>
                    <h4>Deregister from the site</h4>
                        <p>
                            Description: This will allow the user to remove their account
                             from the database.<br>
                            Endpoint URL: '/users/:id'<br>
                            ':id' must be replaced with the user's ID.<br>
                            <br>
                            Method type: 'DELETE'<br>
                            Authentication required: 'JWT Bearer Token'<br>
                            Format of the response data: Text<br>
                            <br>
                            Example request URL endpoint: '/users/64130ea893504592c757550f'<br>
                            <br>
                            Example response:<br>
                            user 64130ea893504592c757550f has been deleted<br>
                        </p>
        </div>
    </body>
</html>